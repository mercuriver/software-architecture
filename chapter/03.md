# 3 모듈성

- 모듈성은 암묵적 아키텍처 특성 중 하나다, 코드베이스를 잘 발전시키기 위해서는 암묵적으로 질서와 일관성이 필요하다
- 선택한 개발 플랫폼에서 모듈성과 그것을 구현하는 수많은 코드를 이해하는 것은 매우 중요하다
- 모듈성은 일종의 구성 원리(Organizing principle)이다
- 소프트웨어 시스템은 엔트로피(Entropy,무질서)가 증가하는 복잡한 시스템을 모델링한다
- 아키텍트는 끊임없이 에너지를 소비해서 시스템을 구조적으로 탄탄하게 유지해야한다

## 3.1 정의

> 복잡한 구조를 만드는 데 쓰이는 각각의 표준화한 부품이나 독립적인 단위

- 모듈성을 이용해 객체 지향 언어의 클래스나 함수형 언어의 함수가 될만한 서로 연관된 코드를 논리적으로 묶는다
- 이키텍트는 개발자가 코드를 어떻게 패키징하는지 반드시 알아야 한다
  - 여러 패키지가 서로 단단히 커플링되어있으면 재사용성이 매우 낮아진다
- 일반적으로 클래스, 함수와 같이 코드를 묶은 덩어이를 모듈성이라는 용어로 표현한다
  - 이것은 논리적인 구분이지 물리적인 구분이 아니다
  - 모듈의 덩어리가 클 경우 아키텍처를 재구축할 때 커플링된 구조로 인해 어려움을 겪게 된다

## 3.2 모듈성 측정

- 모듈성은 아키텍트에게 매우 중요한 주제다
- 핵심 개념 `응집`, `커플링`, `커네이선스`

### 3.2.1 응집

- 서로 연관된 기능을 동일한 모듈 안에 포함하는 것이다
- 이상적인 경우 모든 파트(구성 요소)가 한 모듈에 함께 패키징될 것이다
- 파트를 더 잘개 쪼개면 모듈 간 호출이 발생한다

> 응집된 모듈을 나누려고 해봐야 더 커플링되고 가독성은 떨어진다
>
> - 래리 콘스탄틴 Larry Constantine

응집도 리스트 (좋음 -> 나쁨 순 정렬 )

1. 기능적 응집 Functional cohesion
   모듈의 각 파트가 다른 파트와 연관되어 있고 기능상 꼭 필요한 모든 것이 모듈에 포함된 것
2. 순차적 응집 Sequential cohesion
   두 모듈이, 한쪽이 데이터를 출력하면 다른 한쪽이 그것을 입력 받는 형태의 상호작용을 하는 것
3. 소통적 응집 Communication cohesion
   두 모듈이, 각각의 흐름대로 동작하고 출력을 발생하는 형태로 통신 체인을 형성하는 것
4. 절차적 응집 Procedural cohesion
   두 모듈이, 정해진 순서대로 실행되는 것
5. 일시적 응집 Temporal cohesion
   모듈이 시점 의존성(Timing dependency)에 따라 연관되는 것
   - 가령, 초기화에 필요한 시, 그다지 연관이 없는 것들도 함께 초기화하는 경우 이를 일시적으로 응집됐다고 표현 함
6. 논리적 응집 Logical cohesion
   모듈의 내부 데이터가 기능적이 아니라 논리적으로 연관되어있는 것
   - 가령, Java StringUtils 패키지와 같이 텍스트, 직렬화 객체, 스트림 데이터 복호화와 같이 서로 하는 일이 모두 다른 연관된 작업
7. 동시적 응집 Coincidental cohesion
   한 모듈 구성 요소에 들어있지만 아무 관련이 없는 것, 가장 나쁜 응집의 형태
